{
  "model": {
    "model_type": "transformer",
    "d_model": 512,
    "n_layers": 6,
    "n_heads": 8,
    "d_ff": 2048,
    "dropout": 0.1,
    "max_seq_len": 512,
    "lstm_hidden_size": 512,
    "lstm_num_layers": 3,
    "emotion_emb_dim": 64,
    "num_emotions": 6,
    "use_emotion_conditioning": true,
    "use_duration_control": true,
    "duration_emb_dim": 32,
    "use_multi_instrument": false,
    "instrument_emb_dim": 32
  },
  "training": {
    "batch_size": 8,
    "learning_rate": 0.0001,
    "weight_decay": 0.01,
    "num_epochs": 25,
    "gradient_clip": 1.0,
    "use_lr_scheduler": true,
    "scheduler_type": "cosine",
    "warmup_epochs": 5,
    "checkpoint_dir": "./checkpoints",
    "save_every_n_epochs": 5,
    "keep_best_n": 3,
    "log_dir": "./logs",
    "use_wandb": false,
    "wandb_project": "emopia-music-gen",
    "log_every_n_steps": 100,
    "validate_every_n_epochs": 1,
    "generate_samples_during_val": true,
    "num_val_samples": 4
  },
  "data": {
    "dataset_path": "./EMOPIA_1.0",
    "additional_datasets": [],
    "emotion_categories": [
      "joy",
      "sadness",
      "anger",
      "calm",
      "surprise",
      "fear"
    ],
    "train_split": 0.7,
    "val_split": 0.15,
    "test_split": 0.15,
    "seed": 42,
    "pitch_shift_range": 5,
    "tempo_variation": 0.1,
    "apply_augmentation": true,
    "normalize_tempo": true,
    "normalize_key": true,
    "normalize_time_signature": true,
    "target_bpm": 120,
    "balance_emotions": true,
    "balancing_strategy": "oversample",
    "use_stratified_split": true,
    "save_split_indices": true,
    "split_indices_path": "./data/split_indices.json"
  },
  "device": "mps"
}